== PCHMS-Remake ==

=== 简介 ===

简单说来就是记录鼠标键盘的操作，然后画画图表，可视化一下。

=== 重做的理由 ===

当时比较不满意的地方挺多的，需求、设计、编码都不满意，虽然曾经一直用着，但感觉达不到我自己的要求。
现在想重新好好做，因为想好好用。
虽然现在自己的技术也挺废的，但总比以前好那么一些，至少暂时做出来的还算得上有点用。

=== 重做的历史 ===

2012年初和Amesists一起想过要重做这个项目，当时的想法主要是做成跨平台的，然后还要分离原始数据和分析。
最终不幸不了了之。

==== 跨平台 ====

跨平台的话，我主要做windows下的，他则找linux下的捕获鼠标键盘操作信息的方案。
不过最后没找到什么即安全又有效的方案，只能作罢。

==== 分离原始数据和分析 ====

最早的项目我下过一个决定，就是在捕捉原始数据时，计算出当天的统计信息，这样就可以在要看的时候快速读取整体信息了。
在年初那次重构中，想尝试把2个部分分离，这样就不用在windows下用c#写一遍代码，又在linux下用别的什么写一遍代码了。
那次重构反倒证实了我当年又一次歪打正着，记录了10天左右的原始数据，如果想一次性获得一些统计信息的话，效率会达到至少我不能忍受的程度。
所以这件事情也要作罢。

=== 暂时的功能 ===

==== 记录数据 ====

这次把鼠标和键盘的原始数据合在了一个文件里面，这样即使时间戳一样，也可以知道鼠标键盘按键的先后了。
回到了最初的方案，在捕捉原始数据时，计算出当天的统计信息。
新增了很多当时作者懒得做的统计信息。

===== 鼠标 =====

除了左右键，还会记录滚轮的信息。

===== 键盘 =====

暂时只支持104按键的键盘，多出来的键会被无视掉。

==== 可视化 ====

===== 整体信息 =====

* 保留了以前鼠标/键盘的操作/活动时间的图（不过把4个图合在一起了）。
* 保留了最常用程序的比较。
* 新增了24小时活跃时间的图。
* 新增了设备倾向度和忙碌程度的图。
* 新增了一些使用建议。

===== 一天内细节 =====

* 保留了各个程序的时间/操作曲线。
* 保留了屏幕点击位置、键盘按键的热点图。
* 新增了各个程序活跃时间段的图。
* 暂时删除了操作回放功能，因为当年做的太搓了，这次这个将会是一个重要的功能。

=== 将来的改进点（不保证会做） ===

* 操作回放功能
不止是屏幕点击位置，还会加上鼠标、键盘的操作。
可以做成全屏前置的模式，如果推广开来的话，有机会看到比如星际、魔兽的伪第一人称视角的操作了。

* 更为合理的建议
现在只有整体的建议，而且不一定合理，将来可能会在这上面多研究研究。
单天内的建议的话，其实在图表里加上建议这件事情已经可以了，至于怎么计算出该在什么位置显示什么建议，还一头雾水中。

* 区分多设备
比如多个鼠标、键盘、屏幕的区分，其中鼠标、键盘的比较鸡肋，多屏的区分则比较有点意思。

=== 奇怪的发现 ===

我玩大航海时代4的时候（我玩这个游戏似乎本身就是一个奇怪之处-.-），屏幕分辨率是640*480，抓到的鼠标点击位置永远是(320, 240)。

=== 安装使用 ===

应该只要把那个PCHMS-Remake.exe开机自启动就好了。

=== 修改程序重新编译 ===

* 装Qt4
* 装qwt
* 编辑的时候用UTF-8编码
Qt Creator的话，projects里面修改下编辑器的编码。
别的编辑器的话，每个文件记得存成UTF-8就好了。